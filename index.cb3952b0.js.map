{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","src/js/api/const.js","src/js/pagination2.js","src/js/pagination.js","src/js/markup.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export class CoctailList {\n  #BASE_URL = 'https://www.thecocktaildb.com/api/json/v1/1/search.php';\n\n  constructor() {\n    this.query = null;\n    this.letter = null;\n  }\n\n  fetchCoctail() {\n    return fetch(`${this.#BASE_URL}?s=${this.query}`).then(res => res.json());\n  }\n\n  firstLetter() {\n    return fetch(`${this.#BASE_URL}?f=${this.letter}`).then(res => res.json());\n  }\n}\n","export function pagination(currentPage, totalPage, totalButton) {\n  const halfPagesShown = Math.floor(totalButton / 2);\n\n  const breakingEnd = totalPage - halfPagesShown;\n  const breakingStart = 1 + halfPagesShown;\n\n  let pages = [];\n  let endArr = [];\n  let startArr = [];\n  let deltaArr = [];\n\n  for (let i = breakingEnd; i <= totalPage; i++) {\n    endArr.push(i);\n  }\n\n  for (let i = 1; i <= breakingStart; i++) {\n    startArr.push(i);\n  }\n\n  for (let i = totalPage - totalButton + 1; i < endArr[0]; i++) {\n    deltaArr.push(i);\n  }\n\n  if (currentPage < breakingStart) {\n    pages = [...startArr, '...', totalPage];\n  } else if (currentPage >= breakingStart) {\n    for (let i = currentPage; i <= currentPage + halfPagesShown; i++) {\n      pages.push(i - 1);\n    }\n    pages.push('...');\n    pages.push(totalPage);\n  }\n\n  if (currentPage >= breakingEnd) {\n    pages = [1, '...', ...endArr];\n  }\n\n  if (currentPage === breakingEnd - 1 || currentPage === breakingEnd) {\n    pages = [...deltaArr, ...endArr];\n  }\n\n  return pages;\n}\n\n// pagination(1,9,5) console.log([1,2,3,\"...\",9])\n// pagination(2,9,5) console.log([1,2,3,\"...\",9])\n// pagination(3,9,5) console.log([2,3,4,\"...\",9])\n// pagination(4,9,5) console.log([3,4,5,\"...\",9])\n// pagination(5,9,5) console.log([4,5,6,\"...\",9])\n// pagination(6,9,5) console.log([5,6,7,8,9])\n// pagination(7,9,5) console.log([1,\"...\",7,8,9])\n// pagination(8,9,5) console.log([1,\"...\",7,8,9])\n// pagination(9,9,5) console.log([1,\"...\",7,8,9])\n","import markupCoctail from './markup';\nimport { pagination } from './pagination2';\n\nconst paginationEl = document.querySelector('#pagination');\nconst galleryEl = document.querySelector('.gallery');\n\nlet itemsPerPage = 9;\nlet totalBTN = 7;\nlet helper = [];\nlet activePage = 1;\nlet screenWidth = window.innerWidth;\n\nloadScreenSizeFromLocalStorage();\n\nfunction renderPagination(items) {\n  showPage(items);\n  helper = [...items];\n}\n\nfunction showPage(items, currentPage = 1) {\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const pageItems = items.slice(startIndex, endIndex);\n\n  activePage = currentPage;\n\n  galleryEl.replaceChildren();\n  galleryEl.insertAdjacentHTML('beforeend', markupCoctail(pageItems));\n\n  const totalPage = Math.ceil(items.length / itemsPerPage);\n\n  if (totalPage > 1) {\n    paginationEl.replaceChildren();\n    createPrevBtn(currentPage);\n    createPagination(currentPage, totalPage, totalBTN);\n    createNextBtn(totalPage, currentPage);\n  }\n}\n\nfunction createPrevBtn(currentPage) {\n  const prevBtn = document.createElement('button');\n  prevBtn.classList.add('prev');\n  prevBtn.textContent = '<';\n  paginationEl.appendChild(prevBtn);\n  if (currentPage < 2) {\n    prevBtn.disabled = true;\n  }\n}\n\nfunction createPagination(currentPage, totalPage, totalBTN) {\n  const pages = pagination(currentPage, totalPage, totalBTN);\n\n  const renderNumber = pages.forEach((page, i) => {\n    const button = document.createElement('button');\n    button.classList.add('btn-pagination');\n    button.textContent = page;\n    if (pages[i] === currentPage) {\n      button.classList.add('active');\n      button.disabled = true;\n    }\n    if (pages[i] === '...') {\n      button.disabled = true;\n    }\n    paginationEl.appendChild(button);\n  });\n\n  return renderNumber;\n}\n\nfunction createNextBtn(totalPage, currentPage) {\n  const nextBtn = document.createElement('button');\n  nextBtn.classList.add('next');\n  nextBtn.textContent = '>';\n  paginationEl.appendChild(nextBtn);\n  if (totalPage === currentPage) {\n    nextBtn.disabled = true;\n  }\n}\n\nfunction clickHandler(event) {\n  if (!event.target.classList.contains('btn-pagination')) return;\n\n  const numberPage = +event.target.textContent;\n  showPage(helper, numberPage);\n}\n\nfunction screenWidthFull() {\n  screenWidth = window.innerWidth;\n\n  if (screenWidth < 768) {\n    itemsPerPage = 3;\n    totalBTN = 5;\n  } else if (screenWidth < 1280) {\n    itemsPerPage = 6;\n  } else {\n    itemsPerPage = 9;\n  }\n  localStorage.setItem('itemsPerPage', JSON.stringify(itemsPerPage));\n}\n\nfunction loadScreenSizeFromLocalStorage() {\n  const savedItemsPerPage = JSON.parse(localStorage.getItem('itemsPerPage'));\n  if (savedItemsPerPage !== null) {\n    itemsPerPage = parseInt(savedItemsPerPage);\n  }\n}\n\nfunction nextPageActive(event) {\n  if (!event.target.classList.contains('next')) return;\n  activePage++;\n  showPage(helper, activePage);\n}\n\nfunction prevPageActive(event) {\n  if (!event.target.classList.contains('prev')) return;\n  activePage--;\n  showPage(helper, activePage);\n}\n\npaginationEl.addEventListener('click', nextPageActive);\npaginationEl.addEventListener('click', prevPageActive);\npaginationEl.addEventListener('click', clickHandler);\nwindow.addEventListener('resize', screenWidthFull);\n\nscreenWidthFull();\n\nexport { renderPagination };\n","function markupCoctail(drinks) {\n  return drinks\n    .map(({ strDrink, strDrinkThumb, strGlass }) => {\n      return `\n<li>\n<img src = ${strDrinkThumb} alt=\"${strGlass}\">\n<p>${strDrink}</p>\n</li>\n`;\n    })\n    .join('');\n}\n\nexport default markupCoctail;","import { CoctailList } from './js/api/const';\nimport { renderPagination } from './js/pagination';\n\nconst form = document.querySelector('form');\nconst galleryEl = document.querySelector('.gallery');\nconst containerEL = document.querySelector('.container');\nconst paginationEl = document.querySelector('#pagination');\nconst titleGallery = document.querySelector('.container-gallery');\n\nconst coctailList = new CoctailList();\n\nform.addEventListener('submit', searchCoctails);\ncontainerEL.addEventListener('click', clickFirstLetter);\n\nfunction searchCoctails(event) {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.input.value.trim();\n  if (!inputValue) return;\n\n  coctailList.query = inputValue;\n\n  galleryEl.replaceChildren();\n  paginationEl.replaceChildren();\n  titleGallery.firstChild.remove();\n\n  coctailList.fetchCoctail().then(data => {\n    if (!data.drinks) {\n      addTitle(\"Sorry, we didn't find any cocktail for you\");\n      return;\n    }\n    addTitle('Cocktails');\n\n    renderPagination(data.drinks);\n    form.reset();\n  });\n}\n\nfunction clickFirstLetter(event) {\n  if (event.target.nodeName !== 'LI') return;\n  const firstLetter = event.target.textContent;\n  coctailList.letter = firstLetter;\n  coctailList.query = null;\n  galleryEl.replaceChildren();\n  paginationEl.replaceChildren();\n\n  titleGallery.firstChild.remove();\n\n  coctailList.firstLetter().then(data => {\n    if (!data.drinks) {\n      console.log('bad');\n      return;\n    }\n\n    addTitle('Searching results');\n\n    renderPagination(data.drinks);\n  });\n}\n\nfunction addTitle(text) {\n  const title = document.createElement('h2');\n  title.classList.add('gallery__title');\n  title.textContent = text;\n  titleGallery.insertBefore(title, titleGallery.firstChild);\n}\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","$e13576b86460cc50$exports","$e13576b86460cc50$var$_classExtractFieldDescriptor","$e13576b86460cc50$var$_classApplyDescriptorGet","$e13576b86460cc50$var$_interopRequireDefault","parcelRequire","__esModule","$bb98491953509995$exports","$bb98491953509995$var$_checkPrivateRedeclaration","set","$435a36f97a193a85$var$_BASE_URL","WeakMap","$f2669efd20ee24e8$export$22fa394f3ba39578","currentPage","totalPage","totalButton","halfPagesShown","Math","floor","breakingEnd","breakingStart","pages","endArr","startArr","deltaArr","i","push","i1","i2","$1bab9c519cfa82bc$var$paginationEl","document","querySelector","$1bab9c519cfa82bc$var$galleryEl","$1bab9c519cfa82bc$var$itemsPerPage","$1bab9c519cfa82bc$var$totalBTN","$1bab9c519cfa82bc$var$helper","$1bab9c519cfa82bc$var$activePage","$1bab9c519cfa82bc$var$screenWidth","window","innerWidth","$1bab9c519cfa82bc$export$825408fbca4f2040","items","$1bab9c519cfa82bc$var$showPage","startIndex","endIndex","pageItems","slice","replaceChildren","insertAdjacentHTML","map","strDrink","strDrinkThumb","strGlass","join","ceil","length","prevBtn","createElement","classList","add","textContent","appendChild","disabled","$1bab9c519cfa82bc$var$createPrevBtn","totalBTN1","forEach","page","button","$1bab9c519cfa82bc$var$createPagination","nextBtn","$1bab9c519cfa82bc$var$createNextBtn","$1bab9c519cfa82bc$var$screenWidthFull","localStorage","setItem","JSON","stringify","savedItemsPerPage","parse","getItem","parseInt","$1bab9c519cfa82bc$var$loadScreenSizeFromLocalStorage","addEventListener","event","target","contains","numberPage","$1f0dc3b9307be026$var$form","$1f0dc3b9307be026$var$galleryEl","$1f0dc3b9307be026$var$containerEL","$1f0dc3b9307be026$var$paginationEl","$1f0dc3b9307be026$var$titleGallery","$1f0dc3b9307be026$var$coctailList","fetchCoctail","fetch","$parcel$interopDefault","this","query","then","res","json","firstLetter","letter","constructor","$1f0dc3b9307be026$var$addTitle","text","title","insertBefore","firstChild","preventDefault","inputValue","currentTarget","elements","input","trim","remove","data","drinks","reset","nodeName","console","log"],"version":3,"file":"index.cb3952b0.js.map"}